(this["webpackJsonpfe-news"]=this["webpackJsonpfe-news"]||[]).push([[0],{36:function(e,t,a){},37:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n,c=a(1),l=a.n(c),s=a(29),r=a.n(s),i=(a(36),a.p,a(37),a(12)),o=a(3),d=a(2),u=function(){try{var e=localStorage.getItem("token");return console.log(e),!!e}catch(t){return!1}},j=a(15),b=a(0),m=function(){var e=Object(o.f)(),t=Object(c.useState)(!1),a=Object(d.a)(t,2),n=a[0],l=a[1];Object(c.useEffect)((function(){l(u)}),[n]);var s=function(){var t,a;null===(t=window)||void 0===t||null===(a=t.localStorage)||void 0===a||a.clear(),l(!1),e.replace("/")};return Object(j.a)("p",(function(e){window.location="/profile"})),Object(j.a)("l",(function(e){s()})),Object(b.jsxs)(c.Fragment,{children:[JSON.stringify(n),Object(b.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-success",children:Object(b.jsxs)("div",{className:"container-fluid",children:[Object(b.jsx)("a",{className:"navbar-brand",href:"#",children:"News"}),Object(b.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(b.jsx)("span",{className:"navbar-toggler-icon"})}),Object(b.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(b.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(i.b,{className:"nav-link active","aria-current":"page",to:"/",children:"Home"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)(i.b,{to:"/auth",className:"nav-link",children:n?"Profile":"Login"})}),Object(b.jsx)("li",{className:"nav-item",children:Object(b.jsx)("span",{className:"nav-link ",onClick:s,children:"Logout"})})]}),Object(b.jsxs)("form",{className:"d-flex",children:[Object(b.jsx)("input",{className:"form-control me-2",type:"search",placeholder:"Search","aria-label":"Search"}),Object(b.jsx)("button",{className:"btn btn-outline-success",type:"submit",children:"Search"})]})]})]})})]})},v=a(5),h=a.n(v),p=a(11),O=a(8),f=a.n(O),x=["title","titleId"];function g(){return g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},g.apply(this,arguments)}function N(e,t){if(null==e)return{};var a,n,c=function(e,t){if(null==e)return{};var a,n,c={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(c[a]=e[a]);return c}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function w(e,t){var a=e.title,l=e.titleId,s=N(e,x);return c.createElement("svg",g({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{margin:"auto",background:"rgb(241, 242, 243)",display:"block",shapeRendering:"auto"},width:"200px",height:"200px",viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",ref:t,"aria-labelledby":l},s),a?c.createElement("title",{id:l},a):null,c.createElement("path",{fill:"none",stroke:"#0a69aa",strokeWidth:8,strokeDasharray:"42.76482137044271 42.76482137044271",d:"M24.3 30C11.4 30 5 43.3 5 50s6.4 20 19.3 20c19.3 0 32.1-40 51.4-40 C88.6 30 95 43.3 95 50s-6.4 20-19.3 20C56.4 70 43.6 30 24.3 30z",strokeLinecap:"round",style:{transform:"scale(0.8)",transformOrigin:"50px 50px"}},n||(n=c.createElement("animate",{attributeName:"stroke-dashoffset",repeatCount:"indefinite",dur:"1s",keyTimes:"0;1",values:"0;256.58892822265625"}))))}var y=c.forwardRef(w),k=(a.p,function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),a=t[0],n=t[1];return Object(c.useEffect)((function(){var e=function(){var e=Object(p.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("http://localhost:8080/posts");case 2:t=e.sent,a=t.data,n(a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(b.jsxs)("div",{className:"container mt-3",children:[0===a.length&&Object(b.jsx)(y,{}),a.length>0&&Object(b.jsx)("div",{children:a.map((function(e,t){return Object(b.jsxs)(c.Fragment,{children:[Object(b.jsx)("h3",{children:e.title},t),Object(b.jsx)("img",{width:"500",height:"500",src:e.images,alt:e.title}),Object(b.jsx)("p",{children:e.description})]})}))}),"home"]})}),S=function(){var e=Object(o.f)(),t=Object(c.useState)(""),a=Object(d.a)(t,2),n=a[0],l=a[1],s=Object(c.useState)(""),r=Object(d.a)(s,2),u=r[0],j=r[1],m=Object(c.useState)(!1),v=Object(d.a)(m,2),O=v[0],x=v[1];Object(c.useEffect)((function(){var t;(null===(t=window)||void 0===t?void 0:t.localStorage.getItem("token"))&&e.replace("/profile")}),[]);var g=function(){var t=Object(p.a)(h.a.mark((function t(a){var c,l,s,r,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null===a||void 0===a||a.preventDefault(),t.prev=1,x(!0),t.next=5,f.a.post("http://localhost:8080/login",{email:n,password:u});case 5:return r=t.sent,i=r.data,console.log(null===i||void 0===i||null===(c=i.data)||void 0===c?void 0:c.token),t.next=10,null===(l=window)||void 0===l?void 0:l.localStorage.setItem("token",null===i||void 0===i||null===(s=i.data)||void 0===s?void 0:s.token);case 10:x(!1),e.replace("/profile"),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),x(!1);case 17:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}();return Object(b.jsx)("div",{className:"container mt-3",children:Object(b.jsxs)("form",{onSubmit:g,children:[Object(b.jsxs)("div",{className:"mb-3 row",children:[Object(b.jsx)("label",{for:"staticEmail",className:"col-sm-2 col-form-label",children:"Email"}),Object(b.jsx)("div",{className:"col-sm-10",children:Object(b.jsx)("input",{onChange:function(e){var t;l(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)},type:"email",className:"form-control",id:"staticEmail",placeholder:"ex. admin@domain.com",value:n})})]}),Object(b.jsxs)("div",{className:"mb-3 row",children:[Object(b.jsx)("label",{for:"inputPassword",className:"col-sm-2 col-form-label",children:"Password"}),Object(b.jsx)("div",{className:"col-sm-10",children:Object(b.jsx)("input",{type:"password",onChange:function(e){var t;j(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)},value:u,className:"form-control",id:"inputPassword"})})]}),Object(b.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:O,children:"Login"}),Object(b.jsxs)("p",{children:["No acoount? Register now ",Object(b.jsx)(i.b,{to:"/register",children:"here"})]})]})})},C=function(e){var t=e.setActiveMenu,a=Object(c.useState)(""),n=Object(d.a)(a,2),l=n[0],s=n[1],r=Object(c.useState)(""),i=Object(d.a)(r,2),o=i[0],u=i[1],m=Object(c.useState)(!1),v=Object(d.a)(m,2),O=(v[0],v[1]),x=Object(c.useState)(0),g=Object(d.a)(x,2),N=g[0],w=(g[1],function(){var e=Object(p.a)(h.a.mark((function e(a){var n,c,s,r,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),c=null===(n=window)||void 0===n?void 0:n.localStorage.getItem("token"),e.prev=2,O(!0),e.next=6,f.a.post("http://localhost:8080/posts",{title:l,description:o},{headers:{Authorization:"Bearer "+c}});case 6:r=e.sent,i=r.data,console.log(null===i||void 0===i||null===(s=i.data)||void 0===s?void 0:s.token),t("my-news"),O(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),O(!1);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}());return Object(j.a)("ctrl+s",(function(e){w(e)}),{enableOnTags:["TEXTAREA"]}),Object(b.jsxs)(c.Fragment,{children:[JSON.stringify(N),Object(b.jsxs)("form",{onSubmit:w,children:[Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{htmlFor:"title",className:"form-label",children:"title"}),Object(b.jsx)("input",{type:"text",value:l,onChange:function(e){var t;return s(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)},className:"form-control",id:"title",placeholder:"title..."})]}),Object(b.jsxs)("div",{className:"mb-3",children:[Object(b.jsx)("label",{htmlFor:"descritption",class:"form-label",children:"Description"}),Object(b.jsx)("textarea",{onChange:function(e){var t;return u(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)},className:"form-control",id:"description",rows:"10"})]}),Object(b.jsxs)("div",{className:"d-grid gap-2 d-md-flex justify-content-md-end",children:[Object(b.jsx)("button",{className:"btn btn-secondary me-md-2",type:"reset",children:"Clear"}),Object(b.jsx)("button",{className:"btn btn-primary me-md-2",type:"submit",children:"Save"})]})]})]})},E=function(){var e=Object(c.useState)(""),t=Object(d.a)(e,2),a=(t[0],t[1],Object(c.useState)("")),n=Object(d.a)(a,2),l=(n[0],n[1],Object(c.useState)(!1)),s=Object(d.a)(l,2),r=(s[0],s[1]),i=Object(c.useState)(void 0),o=Object(d.a)(i,2),u=o[0],j=o[1];Object(c.useEffect)((function(){m()}),[]);var m=function(){var e=Object(p.a)(h.a.mark((function e(){var t,a,n,c,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null===(t=window)||void 0===t?void 0:t.localStorage.getItem("token"),e.prev=1,r(!0),e.next=5,f.a.get("http://localhost:8080/posts",{headers:{Authorization:"Bearer "+a}});case 5:c=e.sent,l=c.data,console.log(null===l||void 0===l||null===(n=l.data)||void 0===n?void 0:n.token),j(null===l||void 0===l?void 0:l.data),r(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),r(!1);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();return Object(b.jsx)(c.Fragment,{children:"undefined"!==typeof u&&(null===u||void 0===u?void 0:u.length)>0&&u.map((function(e,t){return Object(b.jsxs)("div",{class:"card mb-3",children:[Object(b.jsx)("div",{className:"card-header",children:(null===e||void 0===e?void 0:e.title)||"no title"}),Object(b.jsx)("div",{className:"card-body",children:Object(b.jsx)("blockquote",{className:"blockquote mb-0",children:Object(b.jsx)("p",{children:(null===e||void 0===e?void 0:e.description)||"-"})})})]},t)}))})},I=function(){var e=Object(c.useState)(),t=Object(d.a)(e,2),a=t[0],n=t[1],l=Object(o.f)(),s=Object(c.useState)(""),r=Object(d.a)(s,2),i=r[0],u=r[1];Object(c.useEffect)((function(){var e;(null===(e=window)||void 0===e?void 0:e.localStorage.getItem("token"))||l.replace("/")}),[l]),Object(c.useEffect)((function(){j()}),[]);var j=function(){var e=Object(p.a)(h.a.mark((function e(){var t,a,c,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("test"),c=null===(t=window)||void 0===t?void 0:t.localStorage.getItem("token"),e.next=5,f.a.get("http://localhost:8080/profile",{headers:{Authorization:"Bearer "+c}});case 5:l=e.sent,n(null===l||void 0===l||null===(a=l.data)||void 0===a?void 0:a.data),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return Object(b.jsx)("div",{className:"container mt-3",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-4",children:[Object(b.jsxs)("div",{className:"card",style:{width:"18rem"},children:[Object(b.jsx)("div",{className:"card-header",children:"Profile"}),Object(b.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(b.jsx)("li",{className:"list-group-item",children:(null===a||void 0===a?void 0:a.firstName)||"-"}),Object(b.jsx)("li",{className:"list-group-item",children:(null===a||void 0===a?void 0:a.lastName)||"-"}),Object(b.jsx)("li",{className:"list-group-item",children:(null===a||void 0===a?void 0:a.email)||"-"})]})]}),Object(b.jsxs)("div",{className:"card mt-3",style:{width:"18rem"},children:[Object(b.jsx)("div",{className:"card-header",children:"Menu"}),Object(b.jsxs)("ul",{className:"list-group list-group-flush",children:[Object(b.jsx)("li",{className:"list-group-item",style:{cursor:"pointer"},onClick:function(){u("my-news")},children:"My News"}),Object(b.jsx)("li",{className:"list-group-item",style:{cursor:"pointer"},onClick:function(){u("create-news")},children:"Create News"})]})]})]}),Object(b.jsx)("div",{className:"col-8",children:"create-news"===i?Object(b.jsx)(C,{setActiveMenu:u}):Object(b.jsx)(E,{})})]})})},P=function(){var e=Object(o.f)(),t=Object(c.useState)(""),a=Object(d.a)(t,2),n=a[0],l=a[1],s=Object(c.useState)(""),r=Object(d.a)(s,2),i=r[0],u=r[1],j=Object(c.useState)(""),m=Object(d.a)(j,2),v=m[0],O=m[1],x=Object(c.useState)(""),g=Object(d.a)(x,2),N=g[0],w=g[1],y=Object(c.useState)(!1),k=Object(d.a)(y,2),S=k[0],C=k[1];Object(c.useEffect)((function(){var t;(null===(t=window)||void 0===t?void 0:t.localStorage.getItem("token"))&&e.replace("/profile")}),[]);var E=function(){var t=Object(p.a)(h.a.mark((function t(a){var c,l,s,r,o,d;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null===a||void 0===a||a.preventDefault(),t.prev=1,C(!0),t.next=5,f.a.post("http://localhost:8080/users",{firstName:n,lastName:i,email:v,password:N});case 5:if(c=t.sent,"sucess"!==(null===(l=c.data)||void 0===l?void 0:l.message)){t.next=16;break}return t.next=10,f.a.post("http://localhost:8080/login",{email:v,password:N});case 10:return o=t.sent,d=o.data,t.next=14,null===(s=window)||void 0===s?void 0:s.localStorage.setItem("token",null===d||void 0===d||null===(r=d.data)||void 0===r?void 0:r.token);case 14:C(!1),e.replace("/profile");case 16:console.log(null===l||void 0===l?void 0:l.data,"test"),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(1),C(!1);case 22:case"end":return t.stop()}}),t,null,[[1,19]])})));return function(e){return t.apply(this,arguments)}}();return Object(b.jsx)("div",{className:"container mt-3",children:Object(b.jsxs)("form",{onSubmit:E,children:[Object(b.jsxs)("div",{className:"mb-3 row",children:[Object(b.jsx)("label",{for:"firstName",className:"col-sm-2 col-form-label",children:"First Name"}),Object(b.jsx)("div",{className:"col-sm-10",children:Object(b.jsx)("input",{onChange:function(e){var t;return l(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)},type:"text",className:"form-control",id:"firstName",placeholder:"ex. John",value:n})})]}),Object(b.jsxs)("div",{className:"mb-3 row",children:[Object(b.jsx)("label",{for:"lastName",className:"col-sm-2 col-form-label",children:"Last Name"}),Object(b.jsx)("div",{className:"col-sm-10",children:Object(b.jsx)("input",{onChange:function(e){var t;return u(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)},type:"text",className:"form-control",id:"lastName",placeholder:"ex. Doe",value:i})})]}),Object(b.jsxs)("div",{className:"mb-3 row",children:[Object(b.jsx)("label",{for:"staticEmail",className:"col-sm-2 col-form-label",children:"Email"}),Object(b.jsx)("div",{className:"col-sm-10",children:Object(b.jsx)("input",{onChange:function(e){var t;O(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)},type:"email",className:"form-control",id:"staticEmail",placeholder:"ex. admin@domain.com",value:v})})]}),Object(b.jsxs)("div",{className:"mb-3 row",children:[Object(b.jsx)("label",{for:"inputPassword",className:"col-sm-2 col-form-label",children:"Password"}),Object(b.jsx)("div",{className:"col-sm-10",children:Object(b.jsx)("input",{type:"password",onChange:function(e){var t;w(null===e||void 0===e||null===(t=e.target)||void 0===t?void 0:t.value)},value:N,className:"form-control",id:"inputPassword"})})]}),Object(b.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:S,children:"Register"})]})})},F=function(){return Object(b.jsxs)(i.a,{children:[Object(b.jsx)(m,{}),Object(b.jsxs)(o.c,{children:[Object(b.jsx)(o.a,{path:"/",exact:!0,children:Object(b.jsx)(k,{})}),Object(b.jsx)(o.a,{path:"/auth",children:Object(b.jsx)(S,{})}),Object(b.jsx)(o.a,{path:"/Register",children:Object(b.jsx)(P,{})}),Object(b.jsx)(o.a,{path:"/profile",children:Object(b.jsx)(I,{})})]})]})};var A=function(){return Object(b.jsx)(c.Fragment,{children:Object(b.jsx)(F,{})})},M=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,67)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,l=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),l(e),s(e)}))};r.a.render(Object(b.jsx)(l.a.StrictMode,{children:Object(b.jsx)(A,{})}),document.getElementById("root")),M()}},[[66,1,2]]]);
//# sourceMappingURL=main.c3c276ab.chunk.js.map